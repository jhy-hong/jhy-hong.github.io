{"singlePage": [], "startSite": "", "filingNum": "", "onePageListNum": 15, "commentLabelColor": "#006b75", "yearColorList": ["#bc4c00", "#0969da", "#1f883d", "#A333D0"], "i18n": "CN", "themeMode": "manual", "dayTheme": "light", "nightTheme": "dark", "urlMode": "pinyin", "script": "<script src='https://blog.meekdai.com/Gmeek/plugins/GmeekTOC.js'></script><script src='https://blog.meekdai.com/Gmeek/plugins/lightbox.js'></script>", "style": "", "head": "", "indexScript": "", "indexStyle": "", "bottomText": "", "showPostSource": 1, "iconList": {"music": "M12.7 0.9L7.3 0.9C6 0.9 4.9 2 4.9 3.3L4.9 10.1C4.5 9.9 4.1 9.8 3.6 9.8C2.1 9.8 0.9 11 0.9 12.4C0.9 13.9 2.1 15.1 3.6 15.1C5 15.1 6.2 13.9 6.2 12.4L6.2 3.3C6.2 2.7 6.7 2.2 7.3 2.2L12.7 2.2C13.3 2.2 13.8 2.7 13.8 3.3L13.8 7.5C13.4 7.3 12.9 7.1 12.4 7.1C11 7.1 9.8 8.3 9.8 9.8C9.8 11.2 11 12.4 12.4 12.4C13.9 12.4 15.1 11.2 15.1 9.8L15.1 3.3C15.1 2 14 0.9 12.7 0.9ZM3.6 13.8C2.8 13.8 2.2 13.2 2.2 12.4C2.2 11.7 2.8 11.1 3.6 11.1C4.3 11.1 4.9 11.7 4.9 12.4C4.9 13.2 4.3 13.8 3.6 13.8ZM12.4 11.1C11.7 11.1 11.1 10.5 11.1 9.8C11.1 9 11.7 8.4 12.4 8.4C13.2 8.4 13.8 9 13.8 9.8C13.8 10.5 13.2 11.1 12.4 11.1ZM12.4 11.1"}, "UTC": 8, "rssSplit": "sentence", "exlink": {"music": "https://music.meekdai.com"}, "needComment": 1, "allHead": "<script src='https://blog.meekdai.com/Gmeek/plugins/GmeekVercount.js'></script>", "title": "\u5b8f\u6e0a\u7684\u6280\u672f\u535a\u5ba2", "subTitle": "\u6211\u662f\u5b8f\u6e0a\uff0c\u4e00\u4e2a\u70ed\u7231\u6280\u672f\uff0c\u70ed\u7231\u5206\u4eab\u7684\uff0c\u70ed\u7231\u751f\u6d3b\u7684\u725b\u9a6c\u3002\u3002\u3002", "avatarUrl": "https://avatars.githubusercontent.com/u/59826062?v=4", "GMEEK_VERSION": "last", "postListJson": {"P1": {"htmlDir": "docs/post/di-yi-zhang- go-bing-fa-yuan-yu-zhi-mutex-de-gai-nian.html", "labels": ["go\u5e76\u53d1"], "postTitle": "\u7b2c\u4e00\u7ae0 go\u5e76\u53d1\u539f\u8bed\u4e4bmutex\u7684\u6982\u5ff5", "postUrl": "post/di-yi-zhang-%20go-bing-fa-yuan-yu-zhi-mutex-de-gai-nian.html", "postSourceUrl": "https://github.com/jhy-hong/jhy-hong.github.io/issues/1", "commentNum": 0, "wordCount": 4812, "description": "# \u4e3a\u4ec0\u4e48\u9700\u8981\u4e92\u65a5\u9501\uff1f\n1. \u9632\u6b62\u6570\u636e\u7ade\u4e89\u200b\uff1a\u5f53\u591a\u4e2agoroutine\u5e76\u53d1\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u65f6\uff0c\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u4e0d\u4e00\u81f4\u6216\u903b\u8f91\u9519\u8bef\u3002", "top": 0, "createdAt": 1748540719, "style": "", "script": "<script src='https://blog.meekdai.com/Gmeek/plugins/GmeekTOC.js'></script><script src='https://blog.meekdai.com/Gmeek/plugins/lightbox.js'></script>", "head": "", "ogImage": "https://avatars.githubusercontent.com/u/59826062?v=4", "createdDate": "2025-05-30", "dateLabelColor": "#0969da"}, "P2": {"htmlDir": "docs/post/di-er-zhang- go-bing-fa-yuan-yu-zhi-mutex-yuan-li-ji-yi-cuo-chang-jing.html", "labels": ["go\u5e76\u53d1"], "postTitle": "\u7b2c\u4e8c\u7ae0 go\u5e76\u53d1\u539f\u8bed\u4e4bmutex\u539f\u7406\u53ca\u6613\u9519\u573a\u666f", "postUrl": "post/di-er-zhang-%20go-bing-fa-yuan-yu-zhi-mutex-yuan-li-ji-yi-cuo-chang-jing.html", "postSourceUrl": "https://github.com/jhy-hong/jhy-hong.github.io/issues/2", "commentNum": 0, "wordCount": 9082, "description": "mutex\u4e92\u65a5\u9501\u7ecf\u5386\u8fc7\u5f88\u591a\u7248\u672c\uff0c\u6211\u4eec\u53ea\u8ba8\u8bba\u6700\u65b0\u7684\u7248\u672c\u3002", "top": 0, "createdAt": 1748541760, "style": "", "script": "<script src='https://blog.meekdai.com/Gmeek/plugins/GmeekTOC.js'></script><script src='https://blog.meekdai.com/Gmeek/plugins/lightbox.js'></script>", "head": "", "ogImage": "https://avatars.githubusercontent.com/u/59826062?v=4", "createdDate": "2025-05-30", "dateLabelColor": "#0969da"}, "P3": {"htmlDir": "docs/post/di-san-zhang- go-bing-fa-yuan-yu-zhi-RWMutex.html", "labels": ["go\u5e76\u53d1"], "postTitle": "\u7b2c\u4e09\u7ae0 go\u5e76\u53d1\u539f\u8bed\u4e4bRWMutex", "postUrl": "post/di-san-zhang-%20go-bing-fa-yuan-yu-zhi-RWMutex.html", "postSourceUrl": "https://github.com/jhy-hong/jhy-hong.github.io/issues/3", "commentNum": 0, "wordCount": 8360, "description": "\u4e4b\u524d\u5b66\u4e60\u8fc7Mutex\uff0c\u4e92\u65a5\u9501\uff0c\u5b83\u53ef\u4ee5\u4fdd\u8bc1\u8bfb\u5199\u5b89\u5168\u7684\u4e92\u65a5\u6027\uff0c\u65e0\u8bba\u662f\u8bfb\u8fd8\u662f\u5199\uff0cMutex\u90fd\u80fd\u4fdd\u8bc1**\u53ea\u6709\u4e00\u4e2a**goroutine\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\uff0c\u4f46\u8fd9\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u6bd4\u8f83\u6d6a\u8d39\u8d44\u6e90\uff0c\u6bd4\u5982\u8bfb\u591a\u5199\u5c11\u7684\u60c5\u51b5\u4e0b\u3002", "top": 0, "createdAt": 1748541871, "style": "", "script": "<script src='https://blog.meekdai.com/Gmeek/plugins/GmeekTOC.js'></script><script src='https://blog.meekdai.com/Gmeek/plugins/lightbox.js'></script>", "head": "", "ogImage": "https://avatars.githubusercontent.com/u/59826062?v=4", "createdDate": "2025-05-30", "dateLabelColor": "#0969da"}, "P4": {"htmlDir": "docs/post/di-si-zhang- go-bing-fa-yuan-yu-zhi-sync.Map.html", "labels": ["go\u5e76\u53d1"], "postTitle": "\u7b2c\u56db\u7ae0 go\u5e76\u53d1\u539f\u8bed\u4e4bsync.Map", "postUrl": "post/di-si-zhang-%20go-bing-fa-yuan-yu-zhi-sync.Map.html", "postSourceUrl": "https://github.com/jhy-hong/jhy-hong.github.io/issues/4", "commentNum": 0, "wordCount": 14045, "description": "## map\u7684\u57fa\u672c\u4f7f\u7528\u65b9\u6cd5\n\n1. **\u58f0\u660e\u4e0e\u521d\u59cb\u5316**\n\n```go\n// \u58f0\u660e\u4e00\u4e2a\u672a\u521d\u59cb\u5316\u7684map\uff08nil\uff09\nvar m1 map[string]int\n\n// \u4f7f\u7528make\u521d\u59cb\u5316\nm2 := make(map[string]int) // \u7a7amap\nm3 := make(map[string]int, 10) // \u6307\u5b9a\u521d\u59cb\u5bb9\u91cf\n\n// \u5b57\u9762\u91cf\u521d\u59cb\u5316\nm4 := map[string]int{\n    'apple':  5,\n    'banana': 3,\n}\n```\n\n2. **\u64cd\u4f5c\u952e\u503c\u5bf9**\n\n```go\n// \u6dfb\u52a0/\u4fee\u6539\nm := make(map[string]int)\nm['apple'] = 10\n\n// \u83b7\u53d6\u503c\nvalue := m['apple']   // 10\nv, exists := m['pear'] // v=0, exists=false\n\n// \u5220\u9664\u952e\ndelete(m, 'apple')\n```\n\n3. **\u904d\u5386map**\n\n```go\nfor key, value := range m {\n    fmt.Println(key, value) // \u987a\u5e8f\u968f\u673a\n}\n```\n\n4. **\u83b7\u53d6\u957f\u5ea6**\n\n```go\nn := len(m) // \u952e\u503c\u5bf9\u6570\u91cf\n```\n\n------\n\n### **\u6ce8\u610f\u4e8b\u9879**\n\n1. **\u672a\u521d\u59cb\u5316map\u4e3anil**\n\n- nil map\u65e0\u6cd5\u5199\u5165\uff1a\u5bf9`nil`map\u8d4b\u503c\u4f1a\u5bfc\u81f4`panic`\n\n  ```go\n  var m map[string]int\n  m['key'] = 1 // panic: assignment to nil map\n  ```\n\n- **\u89e3\u51b3\u65b9\u6848**\uff1a\u7528`make`\u6216\u5b57\u9762\u91cf\u521d\u59cb\u5316\u3002", "top": 0, "createdAt": 1748614425, "style": "", "script": "<script src='https://blog.meekdai.com/Gmeek/plugins/GmeekTOC.js'></script><script src='https://blog.meekdai.com/Gmeek/plugins/lightbox.js'></script>", "head": "", "ogImage": "https://avatars.githubusercontent.com/u/59826062?v=4", "createdDate": "2025-05-30", "dateLabelColor": "#0969da"}, "P5": {"htmlDir": "docs/post/di-wu-zhang- go-bing-fa-yuan-yu-zhi-WaitGroup.html", "labels": ["go\u5e76\u53d1"], "postTitle": "\u7b2c\u4e94\u7ae0 go\u5e76\u53d1\u539f\u8bed\u4e4bWaitGroup", "postUrl": "post/di-wu-zhang-%20go-bing-fa-yuan-yu-zhi-WaitGroup.html", "postSourceUrl": "https://github.com/jhy-hong/jhy-hong.github.io/issues/5", "commentNum": 0, "wordCount": 10026, "description": "`WaitGroup`\u5f88\u7b80\u5355\uff0c\u5c31\u662f`sync` \u7528\u6765\u505a\u4efb\u52a1\u7f16\u6392\u7684\u4e00\u4e2a\u5e76\u53d1\u539f\u8bed\u3002", "top": 0, "createdAt": 1748771418, "style": "", "script": "<script src='https://blog.meekdai.com/Gmeek/plugins/GmeekTOC.js'></script><script src='https://blog.meekdai.com/Gmeek/plugins/lightbox.js'></script>", "head": "", "ogImage": "https://avatars.githubusercontent.com/u/59826062?v=4", "createdDate": "2025-06-01", "dateLabelColor": "#0969da"}, "P6": {"htmlDir": "docs/post/di-liu-zhang- go-bing-fa-yuan-yu-zhi-Once.html", "labels": ["go\u5e76\u53d1"], "postTitle": "\u7b2c\u516d\u7ae0 go\u5e76\u53d1\u539f\u8bed\u4e4bOnce", "postUrl": "post/di-liu-zhang-%20go-bing-fa-yuan-yu-zhi-Once.html", "postSourceUrl": "https://github.com/jhy-hong/jhy-hong.github.io/issues/6", "commentNum": 0, "wordCount": 5880, "description": "`sync.Once` \u662f Go \u6807\u51c6\u5e93 `sync` \u5305\u4e2d\u7684\u4e00\u4e2a\u975e\u5e38\u5b9e\u7528\u7684\u5e76\u53d1\u539f\u8bed\uff0c\u7528\u4e8e\u786e\u4fdd\u67d0\u4e2a\u64cd\u4f5c\u53ea\u4f1a\u88ab\u6267\u884c\u4e00\u6b21\uff0c\u65e0\u8bba\u6709\u591a\u5c11\u4e2a goroutine \u540c\u65f6\u8c03\u7528\u3002", "top": 0, "createdAt": 1748873012, "style": "", "script": "<script src='https://blog.meekdai.com/Gmeek/plugins/GmeekTOC.js'></script><script src='https://blog.meekdai.com/Gmeek/plugins/lightbox.js'></script>", "head": "", "ogImage": "https://avatars.githubusercontent.com/u/59826062?v=4", "createdDate": "2025-06-02", "dateLabelColor": "#0969da"}, "P7": {"htmlDir": "docs/post/di-yi-zhang- mysql-xiang-guan-you-hua-\uff08-suo-yin-wei-du-\uff09.html", "labels": ["mysql\u4f18\u5316"], "postTitle": "\u7b2c\u4e00\u7ae0 mysql\u76f8\u5173\u4f18\u5316\uff08\u7d22\u5f15\u7ef4\u5ea6\uff09", "postUrl": "post/di-yi-zhang-%20mysql-xiang-guan-you-hua-%EF%BC%88-suo-yin-wei-du-%EF%BC%89.html", "postSourceUrl": "https://github.com/jhy-hong/jhy-hong.github.io/issues/7", "commentNum": 0, "wordCount": 18696, "description": "## mysql\u76f8\u5173\u4f18\u5316\uff08\u7d22\u5f15\u7ef4\u5ea6\uff09\n\n### \u5efa\u8868\u6d4b\u8bd5\n\n\u5148\u8bbe\u8ba1\u51e0\u5f20\u8868\uff0c\u7528\u6237\u8868 `users`\uff0c\u5546\u54c1\u8868 `products`\uff0c\u8ba2\u5355\u8868 `orders`,\u8ba2\u5355\u660e\u7ec6\u8868 `order_items`\n\n\u7528\u6237\u8868 `users`\n\n```sql\nCREATE TABLE users (\n    id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT '\u7528\u6237ID',\n    username VARCHAR(64) NOT NULL UNIQUE COMMENT '\u7528\u6237\u540d',\n    email VARCHAR(128) NOT NULL COMMENT '\u90ae\u7bb1',\n    phone VARCHAR(20) DEFAULT NULL COMMENT '\u624b\u673a\u53f7',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT '\u6ce8\u518c\u65f6\u95f4'\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\n\n\n```\n\n\u5546\u54c1\u8868 `products`\n\n```sql\nCREATE TABLE products (\n    id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT '\u5546\u54c1ID',\n    name VARCHAR(128) NOT NULL COMMENT '\u5546\u54c1\u540d\u79f0',\n    category VARCHAR(64) DEFAULT NULL COMMENT '\u5206\u7c7b',\n    price DECIMAL(10, 2) NOT NULL COMMENT '\u4ef7\u683c',\n    stock INT NOT NULL DEFAULT 0 COMMENT '\u5e93\u5b58',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT '\u4e0a\u67b6\u65f6\u95f4',\n    INDEX idx_category_price (category, price)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\n\n\n```\n\n\u8ba2\u5355\u8868 `orders`\n\n```sql\nCREATE TABLE orders (\n    id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT '\u8ba2\u5355ID',\n    user_id BIGINT NOT NULL COMMENT '\u4e0b\u5355\u7528\u6237ID',\n    order_no VARCHAR(64) NOT NULL UNIQUE COMMENT '\u8ba2\u5355\u53f7',\n    status TINYINT NOT NULL DEFAULT 0 COMMENT '\u8ba2\u5355\u72b6\u6001 0-\u5f85\u652f\u4ed8 1-\u5df2\u652f\u4ed8 2-\u5df2\u53d1\u8d27 3-\u5b8c\u6210',\n    total_amount DECIMAL(10,2) NOT NULL COMMENT '\u8ba2\u5355\u603b\u989d',\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT '\u4e0b\u5355\u65f6\u95f4',\n    INDEX idx_user_created (user_id, created_at),\n    FOREIGN KEY (user_id) REFERENCES users(id)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\n\n```\n\n\u8ba2\u5355\u660e\u7ec6\u8868 `order_items`\n\n```sql\nCREATE TABLE order_items (\n    id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT '\u660e\u7ec6ID',\n    order_id BIGINT NOT NULL COMMENT '\u8ba2\u5355ID',\n    product_id BIGINT NOT NULL COMMENT '\u5546\u54c1ID',\n    quantity INT NOT NULL COMMENT '\u8d2d\u4e70\u6570\u91cf',\n    price DECIMAL(10,2) NOT NULL COMMENT '\u5355\u4ef7',\n    FOREIGN KEY (order_id) REFERENCES orders(id),\n    FOREIGN KEY (product_id) REFERENCES products(id),\n    INDEX idx_order_product (order_id, product_id)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;\n```\n\n### \u751f\u6210\u5927\u91cf\u6570\u636e\u4ee5\u4f9b\u6d4b\u8bd5\n\n\u751f\u6210\u6d4b\u8bd5\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u4f7f\u7528sql\u811a\u672c\uff0cpython\u811a\u672c\u7b49\n\n\u6279\u91cf\u751f\u6210 `users` \u6570\u636e\uff0810 \u4e07\u6761\uff09\n\n```sql\nSTART TRANSACTION;\n\nINSERT INTO users (username, email, phone, created_at)\nSELECT\n  CONCAT('user_', LPAD(id, 6, '0')),\n  CONCAT('user_', LPAD(id, 6, '0'), '@example.com'),\n  CONCAT('13', LPAD(FLOOR(RAND()*100000000), 8, '0')),\n  NOW() - INTERVAL FLOOR(RAND()*365) DAY\nFROM (\n  SELECT @rownum := @rownum + 1 AS id\n  FROM information_schema.COLUMNS a, information_schema.COLUMNS b, (SELECT @rownum := 0) r\n  LIMIT 100000\n) AS temp;\n\nCOMMIT;\n\n```\n\n\u6279\u91cf\u751f\u6210 `products` \u6570\u636e\uff081000 \u6761\uff09\n\n```sql\nSTART TRANSACTION;\n\nINSERT INTO products (name, category, price, stock, created_at)\nSELECT\n  CONCAT('\u5546\u54c1_', LPAD(id, 4, '0')),\n  ELT(FLOOR(1 + (RAND() * 5)), '\u6570\u7801', '\u56fe\u4e66', '\u670d\u9970', '\u5bb6\u5c45', '\u98df\u54c1'),\n  ROUND(50 + RAND() * 950, 2),\n  FLOOR(100 + RAND() * 900),\n  NOW() - INTERVAL FLOOR(RAND()*180) DAY\nFROM (\n  SELECT @pid := @pid + 1 AS id\n  FROM information_schema.COLUMNS a, (SELECT @pid := 0) r\n  LIMIT 1000\n) AS temp;\n\nCOMMIT;\n\n```\n\n\u6279\u91cf\u751f\u6210 `orders` \u6570\u636e\uff08\u6bcf\u7528\u6237 1~3 \u4e2a\u8ba2\u5355\uff09\n\n```sql\n-- \u6a21\u62df\u5faa\u73af\u63d2\u5165\nDELIMITER $$\n\nCREATE PROCEDURE generate_orders()\nBEGIN\n  DECLARE i INT DEFAULT 0;\n  WHILE i < 200000 DO\n    INSERT INTO orders (user_id, order_no, status, total_amount, created_at)\n    SELECT\n      FLOOR(1 + RAND() * 100000),\n      CONCAT('ORD_', LPAD(FLOOR(RAND() * 10000000), 7, '0')),\n      FLOOR(RAND() * 4),\n      ROUND(50 + RAND() * 1000, 2),\n      NOW() - INTERVAL FLOOR(RAND() * 60) DAY;\n    SET i = i + 1;\n  END WHILE;\nEND$$\n\nDELIMITER ;\n\nCALL generate_orders();\n\n```\n\n\u6279\u91cf\u751f\u6210 `order_items` \u6570\u636e\uff08\u6bcf\u8ba2\u5355 1~3 \u4e2a\u5546\u54c1\uff09\n\n```sql\nSTART TRANSACTION;\n\nINSERT INTO order_items (order_id, product_id, quantity, price)\nSELECT\n  FLOOR(1 + (RAND() * 200000)), -- \u8ba2\u5355 ID \u8303\u56f4\n  FLOOR(1 + (RAND() * 1000)),   -- \u5546\u54c1 ID \u8303\u56f4\n  FLOOR(1 + RAND()*5),\n  ROUND(50 + RAND()*950, 2)\nFROM (\n  SELECT @oiid := @oiid + 1 AS id\n  FROM information_schema.COLUMNS a, information_schema.COLUMNS b, (SELECT @oiid := 0) r\n  LIMIT 500000\n) AS temp;\n\nCOMMIT;\n\n```\n\n## \u5f00\u59cb\u6d4b\u8bd5\u76f8\u5173\u4f18\u5316\u9879\n\n\u6211\u4eec\u5c1d\u8bd5\u6267\u884c\u4e00\u4e0b\n\n```sql\nEXPLAIN SELECT * FROM users WHERE phone = '1302706965';\n```\n\n\u53d1\u73b0\u5176\u6267\u884c\u8ba1\u5212\u5982\u4e0b\uff1a\n\n![Image](https://github.com/user-attachments/assets/260cd39e-cf04-44d9-99b0-ea111a5f0533)\n\n###  `EXPLAIN` \u5b57\u6bb5\u8be6\u7ec6\u89e3\u91ca\n\n| \u5b57\u6bb5\u540d            | \u542b\u4e49                                             | \u4f18\u5316\u5efa\u8bae                               |\n| ----------------- | ------------------------------------------------ | -------------------------------------- |\n| **id**            | \u67e5\u8be2\u4e2d\u8bed\u53e5\u5757\u7684\u6807\u8bc6\u7f16\u53f7\u3002", "top": 0, "createdAt": 1748959057, "style": "", "script": "<script src='https://blog.meekdai.com/Gmeek/plugins/GmeekTOC.js'></script><script src='https://blog.meekdai.com/Gmeek/plugins/lightbox.js'></script>", "head": "", "ogImage": "https://avatars.githubusercontent.com/u/59826062?v=4", "createdDate": "2025-06-03", "dateLabelColor": "#0969da"}, "P8": {"htmlDir": "docs/post/di-er-zhang- mysql-de-quan-wei-du-you-hua-zong-jie.html", "labels": ["mysql\u4f18\u5316"], "postTitle": "\u7b2c\u4e8c\u7ae0 mysql\u7684\u5168\u7ef4\u5ea6\u4f18\u5316\u603b\u7ed3", "postUrl": "post/di-er-zhang-%20mysql-de-quan-wei-du-you-hua-zong-jie.html", "postSourceUrl": "https://github.com/jhy-hong/jhy-hong.github.io/issues/8", "commentNum": 0, "wordCount": 10925, "description": "## \u4e00\u3001\u6570\u636e\u5e93\u8bbe\u8ba1\u9636\u6bb5\u4f18\u5316\n\n### 1. \u89c4\u8303\u5316\u8bbe\u8ba1\uff08\u524d\u671f\uff09\n\n- \u5408\u7406\u4f7f\u7528\u8303\u5f0f\uff08\u7b2c\u4e00/\u7b2c\u4e8c/\u7b2c\u4e09\u8303\u5f0f\uff09\uff0c\u51cf\u5c11\u6570\u636e\u5197\u4f59\u3002", "top": 0, "createdAt": 1749024275, "style": "", "script": "<script src='https://blog.meekdai.com/Gmeek/plugins/GmeekTOC.js'></script><script src='https://blog.meekdai.com/Gmeek/plugins/lightbox.js'></script>", "head": "", "ogImage": "https://avatars.githubusercontent.com/u/59826062?v=4", "createdDate": "2025-06-04", "dateLabelColor": "#0969da"}, "P9": {"htmlDir": "docs/post/go-yu-yan-zhong-de-ce-shi-shi-yong-jiang-jie.html", "labels": ["go\u57fa\u7840"], "postTitle": "go\u8bed\u8a00\u4e2d\u7684\u6d4b\u8bd5\u4f7f\u7528\u8bb2\u89e3", "postUrl": "post/go-yu-yan-zhong-de-ce-shi-shi-yong-jiang-jie.html", "postSourceUrl": "https://github.com/jhy-hong/jhy-hong.github.io/issues/9", "commentNum": 0, "wordCount": 6159, "description": "# golang\u4e2d\u7684\u6d4b\u8bd5\u5206\u7c7b\n\ngolang\u4e2d\u4f7f\u7528go test\u8fdb\u884c\u76f8\u5e94\u6d4b\u8bd5\uff0c\u76ee\u524d\u6709\u4e09\u79cd\uff1a\n\n- \u5355\u5143\u6d4b\u8bd5\uff1a\u5bf9\u8f6f\u4ef6\u4e2d**\u6700\u5c0f\u53ef\u6d4b\u8bd5\u5355\u5143\u8fdb\u884c\u68c0\u67e5\u548c\u9a8c\u8bc1**\uff0c\u6bd4\u5982\u5bf9\u4e00\u4e2a\u51fd\u6570\u7684\u6d4b\u8bd5\n\n- \u6027\u80fd\u6d4b\u8bd5\uff1a\u4e5f\u79f0\u4e3a\u57fa\u51c6\u6d4b\u8bd5\uff0c\u53ef\u6d4b\u8bd5<mark>\u4e00\u6bb5\u7a0b\u5e8f\u7684\u6027\u80fd\uff0c\u53ef\u4ee5\u5f97\u5230\u65f6\u95f4\u6d88\u8017\uff0c\u5185\u5b58\u4f7f\u7528\u60c5\u51b5</mark>\u7684\u62a5\u544a\n\n- \u793a\u4f8b\u6d4b\u8bd5\uff1a\u7528\u4e8e\u5c55\u793a\u67d0\u4e2a\u5305\u6216\u67d0\u4e2a\u65b9\u6cd5\u7684\u7528\u6cd5\n\n### \u5355\u5143\u6d4b\u8bd5\n\n\u76ee\u5f55\u7ed3\u6784\n\n<img width='205' alt='Image' src='https://github.com/user-attachments/assets/eb5fa6e6-eb15-4f64-83a7-1268bb5b558a' />\n\n\u6e90\u4ee3\u7801\u6587\u4ef6unit.go\uff1a\n\n```go\npackage unitTesting\n\nfunc Add(a, b int) int {\n    return a + b\n}\n```\n\n\u6d4b\u8bd5\u6587\u4ef6 unit_testing.go\n\n```go\npackage unitTesting_test\n\nimport (\n    'testing'\n    'unitTesting'\n)\n\nfunc TestAdd(t *testing.T) {\n    var a, b = 1, 2\n    expected := 3\n    actual := unitTesting.Add(a, b)\n    if actual != expected {\n        t.Errorf('error')\n    }\n}\n```\n\n\u6d4b\u8bd5\u6587\u4ef6\u5c5e\u4e8eunitTesting_test\u5305\uff0c\u6d4b\u8bd5\u6587\u4ef6\u4e5f\u53ef\u4ee5\u548c\u6e90\u6587\u4ef6\u5728\u540c\u4e00\u4e2a\u5305\u4e2d\uff0c\u4f46\u5e38\u89c1\u7684\u505a\u6cd5\u662f\u521b\u5efa\u4e00\u4e2a\u5305\u4e13\u95e8\u7528\u4e8e\u6d4b\u8bd5\uff0c\u8fd9\u6837<mark>\u53ef\u4ee5\u4f7f\u6d4b\u8bd5\u6587\u4ef6\u548c\u6e90\u6587\u4ef6\u9694\u79bb</mark>\uff0c\u89c4\u5219\u662f\u5728\u539f\u5305\u540d\u52a0\u4e0a <mark>_test</mark>\n\n**\u5c0f\u7ed3\uff1a**\n\n- \u6d4b\u8bd5\u6587\u4ef6\u540d\u5fc5\u987b\u4ee5<mark>_test.go</mark>\u7ed3\u5c3e\n\n- \u6d4b\u8bd5\u51fd\u6570\u540d\u5fc5\u987b\u4ee5<mark>TestXxx</mark>\u5f00\u59cb\n\n- \u5728\u547d\u4ee4\u884c\u4e0b\u4f7f\u7528<mark>go test</mark>\u5373\u53ef\u5f00\u542f\u6d4b\u8bd5\n\n## \u57fa\u51c6\u6d4b\u8bd5\n\n*\u76ee\u5f55\u7ed3\u6784*\n\n![Image](https://github.com/user-attachments/assets/168950e5-21e7-44d5-a653-7e89249df538)\n\n\u6e90\u4ee3\u7801\u6587\u4ef6 benchmakr.go\n\n```go\npackage benchmarkTest\n\n// MakeSliceWithoutAlloc \u4e0d\u9884\u5206\u914d\nfunc MakeSliceWithoutAlloc() []int {\n    var newSlice []int\n    for i := 0; i < 100000; i++ {\n        newSlice = append(newSlice, i)\n    }\n    return newSlice\n}\n\n// MakeSliceWithAlloc \u9884\u5206\u914d\nfunc MakeSliceWithAlloc() []int {\n    var newSlice []int\n    newSlice = make([]int, 0, 100000)\n    for i := 0; i < 100000; i++ {\n        newSlice = append(newSlice, i)\n    }\n    return newSlice\n}\n```\n\n\u6d4b\u8bd5\u6587\u4ef6benchmark_test.go\n\n```go\npackage benchmarkTest_test\n\nimport (\n    'benchmarkTest'\n    'testing'\n)\n\nfunc BenchmarkMakeSliceWithoutAlloc(b *testing.B) {\n    for i := 0; i < b.N; i++ {\n        benchmarkTest.MakeSliceWithoutAlloc()\n    }\n}\nfunc BenchmarkMakeSliceWithAlloc(b *testing.B) {\n    for i := 0; i < b.N; i++ {\n        benchmarkTest.MakeSliceWithAlloc()\n    }\n}\n```\n\n\u6027\u80fd\u6d4b\u8bd5\u51fd\u6570\u7684\u547d\u540d\u89c4\u5219\u4e3aBenchmarkXxx\uff0c\u5176\u4e2dXxx\u4e3a\u81ea\u5b9a\u4e49\u7684\u6807\u8bc6\uff0c\u9700\u8981\u4ee5\u5927\u5199\u5b57\u6bcd\u5f00\u5934\uff0c\u901a\u5e38\u4e3a\u5f85\u6d4b\u51fd\u6570\n\ntesting.B\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u7528\u4e8e\u8f85\u52a9\u6027\u80fd\u6d4b\u8bd5\u7684\u65b9\u6cd5\u6216\u6210\u5458\uff0c\u5982\u4e0a\u9762\u7684b.N\u8868\u793a\u5faa\u73af\u6267\u884c\u7684\u6b21\u6570\uff0c\u800cN\u503c\u4e0d\u7528\u7a0b\u5e8f\u5458\u5173\u5fc3\uff0cN\u503c\u662f\u52a8\u6001\u8c03\u6574\u7684\uff0c\u76f4\u5230\u53ef\u9760\u7684\u7b97\u51fa\u7a0b\u5e8f\u6267\u884c\u65f6\u95f4\u540e\u624d\u4f1a\u505c\u6b62\u3002", "top": 0, "createdAt": 1749053916, "style": "", "script": "<script src='https://blog.meekdai.com/Gmeek/plugins/GmeekTOC.js'></script><script src='https://blog.meekdai.com/Gmeek/plugins/lightbox.js'></script>", "head": "", "ogImage": "https://avatars.githubusercontent.com/u/59826062?v=4", "createdDate": "2025-06-05", "dateLabelColor": "#0969da"}}, "singeListJson": {}, "labelColorDict": {"bug": "#d73a4a", "documentation": "#0075ca", "duplicate": "#cfd3d7", "enhancement": "#a2eeef", "good first issue": "#7057ff", "go\u57fa\u7840": "#5319E7", "go\u5e76\u53d1": "#1D76DB", "help wanted": "#008672", "invalid": "#e4e669", "mysql\u4f18\u5316": "#51AAAF", "question": "#d876e3", "wontfix": "#ffffff"}, "displayTitle": "\u5b8f\u6e0a\u7684\u6280\u672f\u535a\u5ba2", "faviconUrl": "https://avatars.githubusercontent.com/u/59826062?v=4", "ogImage": "https://avatars.githubusercontent.com/u/59826062?v=4", "primerCSS": "<link href='https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/Primer/21.0.7/primer.css' rel='stylesheet' />", "homeUrl": "https://jhy-hong.github.io", "prevUrl": "disabled", "nextUrl": "disabled"}